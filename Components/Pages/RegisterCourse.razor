@page "/RegisterCourse/{selectedID:int}"

@* <p>Student ID is @selectedID</p> *@

@foreach(var student in students)
{
    if (student.Id == selectedID)
    {
        studentName = student.FirstName +" " + student.LastName;
    }
}
<h3 class ="text-center">Register a course for @studentName</h3>

<h4 class="mb-3">Course list is:</h4>


<ul class="list-group text-start mb-3">
    @foreach (var course in courses)
    {
        <div class="form-check">
            <input class="form-check-input" type="checkbox" value="@course.Code" id="@course.Code">
            <label class="form-check-label" for="@course.Code">
        @course.ToString()
            </label>
        </div>
    }
</ul>


<button class="btn btn-primary">Add Course</button>
<div class="btn btn-primary text-center m-0">
    <span><a class = "text-light text-decoration-none" href="/">Cancel</a></span>
</div>



@code {
    [Parameter] public string? studentName {get; set;} 
    [Parameter] public int selectedID { get; set; } // read this from page url
    [Parameter] public static List<Student> students {get; set;} = Helper.studentsList ;

    private List<Course> courses = new List<Course>(); // Initialize the list

    protected override void OnParametersSet()
    {
        courses = Helper.GetCourses();
    }
}
